# 现代PHP编程指南

笔者不久前刚好想要进行了一次从零开始的PHP编程实践。笔者以往从来都是依赖于框架开发网页程序，而这一次从头搭建了一个应用了许多PHP特性的、面向对象的、尽可能最小化、但是用到许多特性的PHP网页应用。笔者意识到，该项目麻雀虽小五脏俱全，非常适合拿来介绍PHP的一些特性，因而写出本指南。

欢迎各位阅读此指南，跟随笔者一同探寻现代PHP编程的最佳实践的一部分。项目地址：一个类似于不蒜子的[网页访问统计](https://github.com/Cerallin/visitor-counter)。

## 预备知识

笔者假定你对于PHP的基础语法是熟悉的，除此之外，对数据结构、面向对象、设计模式、HTTP协议簇等概念有所耳闻。

### 从 CGI 开始了解

什么是CGI？CGI是Web服务器运行时外部程序的规范，按CGI编写的程序可以扩展服务器功能。此处的Web服务器就是指Apache2、Nginx等软件。

Web服务器与CGI脚本之间的交互是非常有意思的。请求报文的请求头会被放置到全局变量里，报文的内容被重定向成了CGI脚本的标准输入，CGI脚本的标准输出会被处理成返回报文。

CGI接口可以建立起脚本语言和Web服务器之间沟通的桥梁，或者说，相当于体系结构的一个“层”。

PHP就是一种脚本语言，Apache2的PHP扩展只不过是做了一些处理减小PHP脚本冷启动的开销、以及将请求头、请求参数等存储到对应的PHP变量里。一个例子可以显示出PHP与其他脚本语言本无差别：在一定情况下，PHP中可以使用`php://input`读取原生POST数据。

### 如何利用 PHP 连接数据库

早年间（PHP7之前），PHP有一个MySQL的扩展`mysql`，从 PHP 5.5.0 起这个扩展已经被废弃，并且从 PHP 7.0.0. 开始被移除，取而代之的是`mysqli`或者`PDO`，后者可以实现与多种数据库的交互。如果你的服务里SQL语句不包含“方言”，那么使用PDO就可以实现各种SQL服务之间的无缝切换。

## PHP基础语法

[复习一下基础语法](docs/PHP基础语法.md)

## PHP进阶语法

[面向对象的常规操作](docs/PHP进阶语法.md)

## PHP的编程小妙招

[生活不易猫猫叹气](docs/PHP的编程小妙招.md)
